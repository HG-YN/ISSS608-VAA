[
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html",
    "title": "Hands-on_Ex05",
    "section": "",
    "text": "pacman::p_load(corrplot, tidyverse, ggtern, plotly)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html#plot-a-static-ternary-diagram",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html#plot-a-static-ternary-diagram",
    "title": "Hands-on_Ex05",
    "section": "Plot a static ternary diagram",
    "text": "Plot a static ternary diagram\n\nUsing ggtern() function\n\nggtern(data=agpop_mutate,aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point() +\n  labs(title=\"Population structure, 2015\") +\n  theme_rgbw()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html#plot-an-interactive-ternary-diagram",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html#plot-an-interactive-ternary-diagram",
    "title": "Hands-on_Ex05",
    "section": "Plot an interactive ternary diagram",
    "text": "Plot an interactive ternary diagram\n\nUsing plot_ly() function\n\nlabel <- function(txt) {\n  list(\n    text = txt, \n    x = 0.1, y = 1,\n    ax = 0, ay = 0,\n    xref = \"paper\", yref = \"paper\", \n    align = \"center\",\n    font = list(family = \"serif\", size = 15, color = \"white\"),\n    bgcolor = \"#b3b3b3\", bordercolor = \"black\", borderwidth = 2\n  )\n}\n\naxis <- function(txt) {\n  list(\n    title = txt, tickformat = \".0%\", tickfont = list(size = 10)\n  )\n}\n\nternaryAxes <- list(\n  aaxis = axis(\"Young\"), \n  baxis = axis(\"Active\"), \n  caxis = axis(\"Old\")\n)\n\nplot_ly(\n  agpop_mutate, \n  a = ~YOUNG, \n  b = ~ACTIVE, \n  c = ~OLD, \n  color = I(\"black\"), \n  type = \"scatterternary\"\n) %>%\n  layout(\n    annotations = label(\"Ternary Markers\"), \n    ternary = ternaryAxes\n  )\n\nNo scatterternary mode specifed:\n  Setting the mode to markers\n  Read more about this attribute -> https://plotly.com/r/reference/#scatter-mode"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html",
    "title": "Hands-on Exercise 2",
    "section": "",
    "text": "The code chunk below uses p_load() of pacman package to check if tidyverse packages are installed. If they are, they will be launched into R.\n\npacman::p_load(tidyverse, patchwork, \n               ggthemes, hrbrthemes,\n               ggrepel)\n\n\n\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\n\nRows: 322 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): ID, CLASS, GENDER, RACE\ndbl (3): ENGLISH, MATHS, SCIENCE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  geom_label_repel(aes(label = ID), \n                   fontface = \"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: ggrepel: 317 unlabeled data points (too many overlaps). Consider\nincreasing max.overlaps\n\n\n\n\n\n\n\n\n\np1 <- ggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") + \n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of Maths scores\")\n\np2 <- ggplot(data=exam_data, \n             aes(x = ENGLISH)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of English scores\")\n\np3 <- ggplot(data=exam_data, \n             aes(x= MATHS, \n                 y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")\n\np1 + p2 / p3\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n((p1/p2) | p3) + \n  plot_annotation(tag_levels = 'I')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\np3 + inset_element(p2, \n                   left = 0.02, \n                   bottom = 0.7, \n                   right = 0.5, \n                   top = 1)\n\n`geom_smooth()` using formula = 'y ~ x'"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html",
    "title": "Hands-on_Ex05",
    "section": "",
    "text": "pacman::p_load(corrplot, tidyverse, ggstatsplot)\n\n\n\n\n\nwine <- read_csv(\"data/wine_quality.csv\")\n\nRows: 6497 Columns: 13\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (1): type\ndbl (12): fixed acidity, volatile acidity, citric acid, residual sugar, chlo...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\n\npairs() method\n\npairs(wine[,1:11])\n\n\n\n\nggcormat() method\nonly correlation variables are needed (column 1 to 11)\n\nggstatsplot::ggcorrmat(\n  data = wine, \n  cor.vars = 1:11)\n\n\n\n\nGive more aesthetic argument and Control visual attributes: font size, X-Axis and Y-Axis\n\nggstatsplot::ggcorrmat(\n  data = wine,\n  cor.vars = 1:11,\n  ggcorrplot.args = list(outline.color = \"black\",\n                         hc.order = TRUE,\n                         tl.cex =10),\n  title = \"Correlogram for wine dataset\",\n  subtitle = \"Four pairs are no significant at p < 0.05\"\n)\n\n\n\nggplot.component = list(\n  theme(text = element_text(size = 5),\n        axis.text.x = element_text(size = 8),\n        axis.text.y = element_text(size = 8)))\n\n\n\n\n\ngrouped_ggcorrmat(\n  data = wine,\n  cor.vars = 1:11,\n  grouping.var = type,\n  type = \"robust\",\n  p.adjust.method = \"holm\",\n  plotgrid.args = list(ncol = 2),\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  annotation.args = list(\n    tag_levels = \"a\",\n    title = \"Correlogram for wine dataset\",\n    subtitle = \"The measures are: alcohol, sulphates, fixed acidity, citric acid, chlorides, residual sugar, density, free sulfur dioxide and volatile acidity\",\n    caption = \"Dataset: UCI Machine Learning Repository\"\n  )\n)\n\n\n\n\ncorrplot() package\nUsing cor() of R Stats to compute the correlation matrix of wine data frame\n\nwine.cor <- cor(wine[,1:11])\ncorrplot(wine.cor)\n\n\n\n\nChange visual geometrics\n\ncorrplot(wine.cor,\n         method = \"ellipse\",\n         type = \"lower\",\n         diag = FALSE,\n         tl.col = \"black\")\n\n\n\n\n\n\n\n\ncorrplot.mixed(wine.cor,\n               lower = \"ellipse\",\n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nwine.sig = cor.mtest(wine.cor, conf.level = 0.95)\ncorrplot(wine.cor,\n         method = \"number\",\n         type = \"lower\",\n         diag = FALSE,\n         tl.col = \"black\",\n         tl.srt = 45,\n         p.mat = wine.sig$p,\n         sig.level = .05)\n\n\n\n\n\n\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               order=\"AOE\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\ncorrplot(wine.cor, \n         method = \"ellipse\", \n         tl.pos = \"lt\",\n         tl.col = \"black\",\n         order=\"hclust\",\n         hclust.method = \"ward.D\",\n         addrect = 3)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05_2.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05_2.html",
    "title": "Hands-on_Ex05_2",
    "section": "",
    "text": "pacman::p_load(seriation, dendextend, heatmaply, tidyverse)\n\n\nwh <- read_csv(\"data/WHData-2018.csv\")\n\nRows: 156 Columns: 12\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (2): Country, Region\ndbl (10): Happiness score, Whisker-high, Whisker-low, Dystopia, GDP per capi...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nChange row number by country name\n\nrow.names(wh) <- wh$Country\n\nWarning: Setting row names on a tibble is deprecated.\n\n\nTransform data frame into matrix\n\nwh1 <- dplyr::select(wh, c(3, 7:12))\nwh_matrix <- data.matrix(wh)\n\nHeatmap() of R Stats\n\nwh_heatmap <- heatmap(wh_matrix,\n                      Rowv=NA, Colv=NA)\n\n\n\n\nPlot a cluster heatmap\n\nwh_heatmap <- heatmap(wh_matrix)\n\n\n\n\nNormalise matric column-wise\n\nwh_heatmap <- heatmap(wh_matrix,\n                      scale=\"column\",\n                      cexRow = 0.6, \n                      cexCol = 0.8,\n                      margins = c(10, 4))\n\n\n\n\n\n\n\nThere are a few ways to transform the data.\nThere are scaling method, normalising method and percentage method\n\nheatmaply(wh_matrix[,-c(1,2,4,5)],\n          scale = \"column\")\n\nWarning in doTryCatch(return(expr), name, parentenv, handler): unable to load shared object '/Library/Frameworks/R.framework/Resources/modules//R_X11.so':\n  dlopen(/Library/Frameworks/R.framework/Resources/modules//R_X11.so, 0x0006): Library not loaded: '/opt/X11/lib/libSM.6.dylib'\n  Referenced from: '/Library/Frameworks/R.framework/Versions/4.2/Resources/modules/R_X11.so'\n  Reason: tried: '/opt/X11/lib/libSM.6.dylib' (no such file), '/Library/Frameworks/R.framework/Resources/lib/libSM.6.dylib' (no such file), '/Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk/Contents/Home/jre/lib/server/libSM.6.dylib' (no such file)\n\n\n\n\n\n\n\nheatmaply(normalize(wh_matrix[,-c(1,2,4,5)]))\n\n\n\n\n\n\nheatmaply(percentize(wh_matrix[, -c(1, 2, 4, 5)]))\n\n\n\n\n\nFurther spread out\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          Colv=NA,\n          seriate = \"none\",\n          colors = Blues,\n          k_row = 5,\n          margins = c(NA,200,60,NA),\n          fontsize_row = 4,\n          fontsize_col = 5,\n          main=\"World Happiness Score and Variables by Country, 2018 \\nDataTransformation using Normalise Method\",\n          xlab = \"World Happiness Indicators\",\n          ylab = \"World Countries\"\n          )"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html",
    "title": "Hands-on_Exercise 1",
    "section": "",
    "text": "The code chunk below uses p_load() of pacman package to check if tidyverse packages are installed. If they are, they will be launched into R.\n\npacman::p_load(tidyverse, patchwork, \n               ggthemes, hrbrthemes,\n               ggrepel)\n\n\n\n\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\n\nRows: 322 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): ID, CLASS, GENDER, RACE\ndbl (3): ENGLISH, MATHS, SCIENCE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608-VAA",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Application. In this website, you will find my coursework prepared for this course."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/takehome_1.html",
    "href": "Take-home_Ex/Take-home_Ex01/takehome_1.html",
    "title": "Take Home Exercise 1",
    "section": "",
    "text": "In this Take Home Exercise, we aim to analyse the demographic structure of Singapore at planning area level by building an age-sex pyramid trellis chart.\nThe dataset used is downloaded from the following link:\nhttps://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data\n\n1. Step-by-Step Description\n\n\n\n\n\n\n\n\nstep\naction\nimage\n\n\n\n\n1\nOpen Tableau Desktop, and load the downloaded file into Tableau using Text file.\nOnce the raw dataset is loaded, drag the Singapore Residents by Planning Area / Subzone, Age Group, Sex and Type of Dwelling, June 2022 csv file into Tableau Desktop.\n\n\n\n2\nTabulate Female population. We created a calculated field for female population.\nWrite a formula based on Population containing “female” word under “Sex” category to extract female population.\n\n\n\n3\nTabulate Male population. We created a calculated field for male population.\nWrite a formula based on Population containing “male” word under “Sex” category to extract male population.\n\n\n\n4\nCreate the Matrix for trellis display (3 * 3 for 9 Planning Areas). We created a calculated field for Row calculation, and convert it to discrete.\n\n\n\n5\nWe created a calculated field for Column calculation, and convert it to discrete.\n\n\n\n6\nCreate Age Group from AG. Combine each two adjacent age group for easier display.\n\n\n\n7\nDrag Female Pop and Male Pop to Columns field. Edit Axis of Female Pop to be reverse.\n\n\n\n8\nDrag AG(group) to Rows. Sort AG(group) in descending order.\n\n\n\n9\nDrag PA into Filters and select 9 most populated planning areas.\nWe select the 9 most populated planning areas by opening another worksheet. Drag Pop into Columns and PA into Rows. Sort Pop in descending orders. From this chart, it’s clearly seen that the top 9 most populated planning areas are: Bedok, Tampines, Jurong West, Sengkang, Woodlands, Hougang, Yishun, Choa Chu Kang, and Puggol.\nDelete this worksheet after obtaining the planning area information. We filter the selected 9 PA in the original worksheet.\n\n\n\n10\nDrag PA into Details under Marks Tab\n\n\n\n11\nDrag Column to Columns. Row to Rows.\nEdit the Table Calculation for both Row and Column. Change to “Compute using Specific Dimensions” and select PA. Choose “At the level” to be PA.\nDo the same for Column.\n\n\n\n12\nHide the Row and Column axis by unchecking the Show Header.\n\n\n\n13\nUnder Marks Female Pop, change the color of female population tab to be pink. That of male population to be blue.\n\n\n\n14\nDrag Female Pop into Label of SUM(Female Pop) and Male Pop into Label of SUM(Male Pop).\n\n\n\n15\nEdit Axis of x axis (Female Pop and Male Pop). Choose Fixed range to be 0 to 35K.\nThis is to make sure all population share x axis of the same range.\n\n\n\n16\nCreate a new Dashboard. Drag the worksheet into the dashboard area.\n\n\n\n17\nAdd text box to show the different planning areas. Choose black color to improve on visual contrast and locate them to be on top right hand corner of each sub plot.\n\n\n\n\n\n\n2. Major Observations\nWe have selected the most populated 9 planning areas in Singapore based on SingStat data dated in June 2022, namely: Bedok, Tampines, Jurong West, Sengkang, Woodlands, Hougang, Yishun, Choa Chu Kang, and Puggol, for visual analysis. These 9 planning areas are chosen as we can observe the population pyramid shape more clearly.\n\nSimilarities observed among all planning areas:\n\nThe population pyramid in these 9 planning areas of Singapore exhibit a “constrictive” population pyramid shape, with a relatively narrow base and a wide middle portion. There are lower number of young people (age group 0 to 19) compared to middle-aged people (age group 30 to 49), implying a low fertility rate in general.\nThere is a broad shape at top, showing a high life expectancy in Singapore, with a high proportion of elderly population(age group 70 and above). There is a higher number of female elderly population compared to male elderly population across all planning groups, indicating that usually female has a longer life expectancy than male.\nMale and female population are similar across all planning areas, indicating a good gender equality in Singapore.\nThese most populated planning areas all fall under Outside Central Region and are residential areas. The low residential accommodation price, and abundance of residential properties may lead to high population in these areas.\n\n\nDifferences observed among planning areas:\n\nThere is a narrowing base observed in Bedok, Jurong West, Woodlands, Hougang and Choa Chu Kang. This indicates a falling birth rate in these planning areas. Whereas in the other 4 planning areas, there are more population under 0-9 age group, indicating that the birth rate has improved. The most significant increase in fertility is observed in Punggol. It could lead to more nursery and schools demands in Punggol area.\nThere are differences in bulges observed in different planning areas. For example, there are significant bulges observed in Punggol and Sengkang area for population under age group 30 to 49. This could be due to residents relocation to Punggol and Sengkang for work purpose. While Bulges for Bedok are observed in 50 to 69 age group population. This may suggest that Bedok is good for retirement.\nThere are differences in indents observed in different planning areas. For example, there are significant indents observed in Woodlands for 30 to 49 age group population. While indents for Punggol happens significantly for 20 to 29 age group population. This could be due to residence relocation due to education, work or other reasons.\nTop 3 planning areas with the most number of elderly (age group 70 and above) are Bedok, Tampines and Hougang. While in terms of total population, the top 3 planning areas are Bedok, Tampines and Jurong West. Hougang ranks number 6 in total population. This suggests that Hougang has a relatively higher proportion of elderly population. Elderly facilities would be in needed in Hougang area.\n\nThe above concludes the take home exercise 1. Thank you for reading!"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html",
    "href": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html",
    "title": "Take-home_Ex03",
    "section": "",
    "text": "In this take-home exercise, we will look into the salient patterns of the resale prices of public housing property by residential towns and estates in Singapore."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#install-and-launching-r-packages",
    "href": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#install-and-launching-r-packages",
    "title": "Take-home_Ex03",
    "section": "Install and launching R packages",
    "text": "Install and launching R packages\nThe code chunk below uses p_load() of pacman package to check if tidyverse packages are installed. If they are, they will be launched into R.\n\npacman::p_load(tidyverse, patchwork, \n               ggthemes, hrbrthemes,\n               ggrepel,ggiraph)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#importing-the-data",
    "href": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#importing-the-data",
    "title": "Take-home_Ex03",
    "section": "Importing the data",
    "text": "Importing the data\nThe code chunk below uses read_csv function to import the dataset: Resale flat princes based on registration date from Jan-2017 onwards.\nData is from Data.gov.sg.\n\nproperty_data <- read_csv(\"data/resale-flat-prices-based-on-registration-date-from-jan-2017-onwards.csv\")\n\nRows: 146429 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): month, town, flat_type, block, street_name, storey_range, flat_mode...\ndbl (3): floor_area_sqm, lease_commence_date, resale_price\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nhead(property_data)\n\n# A tibble: 6 × 11\n  month   town     flat_…¹ block stree…² store…³ floor…⁴ flat_…⁵ lease…⁶ remai…⁷\n  <chr>   <chr>    <chr>   <chr> <chr>   <chr>     <dbl> <chr>     <dbl> <chr>  \n1 2017-01 ANG MO … 2 ROOM  406   ANG MO… 10 TO …      44 Improv…    1979 61 yea…\n2 2017-01 ANG MO … 3 ROOM  108   ANG MO… 01 TO …      67 New Ge…    1978 60 yea…\n3 2017-01 ANG MO … 3 ROOM  602   ANG MO… 01 TO …      67 New Ge…    1980 62 yea…\n4 2017-01 ANG MO … 3 ROOM  465   ANG MO… 04 TO …      68 New Ge…    1980 62 yea…\n5 2017-01 ANG MO … 3 ROOM  601   ANG MO… 01 TO …      67 New Ge…    1980 62 yea…\n6 2017-01 ANG MO … 3 ROOM  150   ANG MO… 01 TO …      68 New Ge…    1981 63 yea…\n# … with 1 more variable: resale_price <dbl>, and abbreviated variable names\n#   ¹​flat_type, ²​street_name, ³​storey_range, ⁴​floor_area_sqm, ⁵​flat_model,\n#   ⁶​lease_commence_date, ⁷​remaining_lease\n# ℹ Use `colnames()` to see all variable names"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html",
    "title": "Take Home Exercise 2",
    "section": "",
    "text": "In this take-home exercise, we will look at one of classmates population pyramid chart and evaluate it in terms of clarity and aesthetics. We will also re-make the original chart design by using ggplot2, ggplot2 extensions and tidyverse packages."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#install-and-launching-r-packages",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#install-and-launching-r-packages",
    "title": "Take Home Exercise 2",
    "section": "Install and launching R packages",
    "text": "Install and launching R packages\nThe code chunk below uses p_load() of pacman package to check if tidyverse packages are installed. If they are, they will be launched into R.\n\npacman::p_load(tidyverse, patchwork, \n               ggthemes, hrbrthemes,\n               ggrepel,ggiraph)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#importing-the-data",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#importing-the-data",
    "title": "Take Home Exercise 2",
    "section": "Importing the data",
    "text": "Importing the data\nThe code chunk below uses read_csv function to import the dataset: Singapore Residents by Planning Area / Subzone, Age Group, Sex and Type of Dwelling, June 2022, into R and name it ppltn_data for future reference.\n\nppltn_data <- read_csv(\"data/respopagesextod2022.csv\")\n\nRows: 100928 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): PA, SZ, AG, Sex, TOD\ndbl (2): Pop, Time\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nhead(ppltn_data)\n\n# A tibble: 6 × 7\n  PA         SZ                     AG     Sex   TOD                   Pop  Time\n  <chr>      <chr>                  <chr>  <chr> <chr>               <dbl> <dbl>\n1 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HDB 1- and 2-Room …     0  2022\n2 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HDB 3-Room Flats       10  2022\n3 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HDB 4-Room Flats       10  2022\n4 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HDB 5-Room and Exe…    30  2022\n5 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HUDC Flats (exclud…     0  2022\n6 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males Condominiums and O…    50  2022"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#clarity",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#clarity",
    "title": "Take Home Exercise 2",
    "section": "2.1 Clarity",
    "text": "2.1 Clarity\n\na) Dashboard Title\nFor easy understanding of the graph, title should serve as a clear summary of the graph. The current dashboard title –“Different demographic patterns are revealed when Singapore population pyramids are grouped by planning areas”, is more like a factual description rather than a summary of the graph presented.\n\n\nb) Graph Title\nAs graph title is under the dashboard title, it is unclear to audience in terms of which one to pay attention to. We can combine the dashboard and graph title as there is only one trellis chart in the dashboard.\n\n\nc) Data Label\nIn the original chart, only 2 or 3 sets of data are labelled in each population pyramid graph. It is unclear to audience why these sets of data are labelled or emphasized. We can label only the minimum and maximum set for more distinct comparison, or using interactive method to eliminate the label but allow audience to be able to read the details when the cursor is hovering above the interested bar."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#aesthetics",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#aesthetics",
    "title": "Take Home Exercise 2",
    "section": "2.2 Aesthetics",
    "text": "2.2 Aesthetics\n\na) Color Intensity Tone\nAs population pyramid has shown the population absolute number in terms of vertical bar length, color intensity is not necessary to show population. Hence we can remove the color intensity to make the graph look cleaner.\n\n\nb) Axes Label\nThe Y axis label –age group, has been split into 19 categories in total (0 to 4 till 90 and over). It is visually too dense to see clearly. More gap should be introduced in between each age group label.\n\n\nc) Title\nIt is more visually pleasant to make graph title center aligned instead of left aligned."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#sketch-of-proposed-design",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#sketch-of-proposed-design",
    "title": "Take Home Exercise 2",
    "section": "3.1 Sketch of Proposed Design",
    "text": "3.1 Sketch of Proposed Design"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#data-wrangling",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#data-wrangling",
    "title": "Take Home Exercise 2",
    "section": "3.2 Data Wrangling",
    "text": "3.2 Data Wrangling\nFirstly we use filter() function to select the planning areas that the original chart has used.\n\nfiltered_PA <- ppltn_data %>%\n  filter(`PA` ==\"Ang Mo Kio\" |\n           `PA` ==\"Bedok\" |\n           `PA`== \"Choa Chu Kang\" |\n           `PA`== \"Jurong West\" |\n           `PA`== \"Pasir Ris\" |\n           `PA`== \"Punggol\" |\n           `PA`== \"Sembawang\" |\n           `PA`== \"Tampines\" |\n           `PA`== \"Toa Payoh\")\n\nThen we will compute Singapore population by planning areas, gender and age using group_by() function.\nWe calculate the female and male population based on different age groups for the selected planning areas and put into a column named “Count”.\n\nfiltered_population <- filtered_PA %>%\n  group_by(AG,PA,Sex) %>%\n  summarise('Count'= sum(`Pop`), .groups = 'drop')\n\nSecondly, we sort the data based on age group and in ascending order by using mutate() and arrange() function. This is to sort the age group based on ascending order, rather than alphabetical order.\n\nage <- c(\"0_to_4\", \"5_to_9\", \"10_to_14\", \"15_to_19\", \"20_to_24\", \"25_to_29\", \"30_to_34\", \"35_to_39\", \"40_to_44\", \"45_to_49\", \"50_to_54\", \"55_to_59\", \"60_to_64\", \"65_to_69\", \"70_to_74\", \"75_to_79\", \"80_to_84\", \"85_to_89\", \"90_and_over\")\n\npopulation <- filtered_population %>%\n  mutate(AG =  factor(AG, levels = age)) %>%\n  arrange(AG)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#final-design",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#final-design",
    "title": "Take Home Exercise 2",
    "section": "3.3 Final Design",
    "text": "3.3 Final Design\nWe have prepared data. Now we are going to plot a trellis chart of population pyramid using ggplot() and facet_wrap() function.\nFirstly we set the male population to be on the -X axis and female population to be on X axis.\nWe use geo_col_interactive() function to introduce tooltip interactivity to the chart, and also eliminate population number labeling to make the chart more aesthetically appealing.\nThen we set the chart labels and captions using labs(), as well as the font size under theme().\nLastly we mark the female and male population in different colors with scale_fill_manual() function.\n\nstatic_plot <- ggplot(population, aes(x = ifelse(Sex == \"Males\", yes = -Count, no = Count), \n                            y = AG, fill = Sex)) + \n  geom_col_interactive(\n    aes(tooltip= paste0(Sex,\"(\",AG,\")\",\" : \",Count))) +\n  facet_wrap(~ PA) +\n  labs (x = \"Population\", \n        y = \"Age Group\", \n        title='Singapore Age-Sex Population Pyramid by Planning Area',\n        caption = \"Source: Department of Statistics Singapore, 2022\") +\n  xlim(-13000,13000) +\n  theme(axis.text = element_text(size = 5),\n        plot.title = element_text(size = 10),\n        plot.caption = element_text(size = 5)) +\n  theme(axis.ticks.y = element_blank()) +\n  scale_fill_manual(values = c(\"Males\" = \"steelblue\", \"Females\" = \"darksalmon\"))\n\nknitr::opts_chunk$set(fig.width=30, fig.height=30) \n\nstatic_plot\n\n\n\n\nIn order to make the group easy to read and also able to zoom-in for details, we will use girafe() to creative interactive plot.\nWe set the width and height to make the y axis age group label easy to read.\n\ngirafe(\n  ggobj = static_plot,\n  width_svg = 6,\n  height_svg = 6)"
  },
  {
    "objectID": "In-Class_Ex/In-Class_Ex03.html",
    "href": "In-Class_Ex/In-Class_Ex03.html",
    "title": "In-Class_Ex03",
    "section": "",
    "text": "Installing and loading R packages\nTwo packages will be installed and loaded: tidyverse and ggiraph.\n\npacman::p_load(ggiraph,tidyverse, plotly)\n\nImport data\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\nshow_col_types = FALSE\n\nggplot2\n\nggplot(data=exam_data, aes(x = MATHS)) +\n  geom_histogram(bins = 10,\n                 boundary = 100,\n                 color=\"black\",\n                 fill=\"grey\") +\n  ggtitle(\"Distribution of maths scores\")\n\n\n\n\nDot Plot\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n\n\n\n\nVisual Interactivity with girafe\n\np <- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = ID),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\") +\n  scale_y_continuous(NULL,\n                     breaks = NULL)\n\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6 * 0.618\n)\n\n\n\n\n\nTo display multiple information on tooltip\n\nexam_data$tooltip <- c(paste0(     #<<\n  \"Name = \", exam_data$ID,         #<<\n  \"\\n Class = \", exam_data$CLASS)) #<<\n\np <- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = exam_data$tooltip), #<<\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\") +\n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(\n  ggobj = p,\n  width_svg = 8,\n  height_svg = 8*0.618\n)\n\n\n\n\n\nCustomize tooltip: change background and font.\n\ntooltip_css <- \"background-color:white; #<<\nfont-style:bold; color:black;\" #<<\n\np <- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = ID),                   \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(    #<<\n    opts_tooltip(    #<<\n      css = tooltip_css)) #<<\n)                                        \n\n\n\n\n\nTo add in statistics on tooltip\nWe write in function and pass mean, standard error, and paste them onto the plot.\n\ntooltip <- function(y, ymax, accuracy = .01) {   #<<\n  mean <- scales::number(y, accuracy = accuracy) #<<\n  sem <- scales::number(ymax - y, accuracy = accuracy) #<<\n  paste(\"Mean maths scores:\", mean, \"+/-\", sem) #<<\n} #<<\n\ngg_point <- ggplot(data=exam_data, \n                   aes(x = RACE),\n) +\n  stat_summary(aes(y = MATHS, \n                   tooltip = after_stat(  #<<\n                     tooltip(y, ymax))),  #<<\n    fun.data = \"mean_se\", \n    geom = GeomInteractiveCol,  #<<\n    fill = \"light blue\"\n  ) +\n  stat_summary(aes(y = MATHS),\n    fun.data = mean_se,\n    geom = \"errorbar\", width = 0.2, size = 0.2\n  )\n\ngirafe(ggobj = gg_point,\n       width_svg = 8,\n       height_svg = 8*0.618)\n\n\n\n\n\nUsing data_id() to show clusters\n\np <- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(           \n    aes(data_id = CLASS),             #<<\n    stackgroups = TRUE,               \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618                      \n)                                        \n\n\n\n\n\nWe use hover effect\n\np <- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(data_id = CLASS),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        #<<\n    opts_hover(css = \"fill: #202020;\"),  #<<\n    opts_hover_inv(css = \"opacity:0.2;\") #<<\n  )                                      #<<  \n)                                        \n\n\n\n\n\nCombine the tooltip and hover effect\n\np <- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = CLASS, #<<\n        data_id = CLASS),#<<              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #202020;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)                                        \n\n\n\n\n\nUsing onclick()\n\nexam_data$onclick <- sprintf(\"window.open(\\\"%s%s\\\")\",\n\"https://www.moe.gov.sg/schoolfinder?journey=Primary%20school\",\nas.character(exam_data$ID))\n\np <- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(onclick = onclick),              #<<\n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618)                                        \n\n\n\n\n\nTry Plotly()\n\nplot_ly(data = exam_data, \n             x = ~MATHS, \n             y = ~ENGLISH)\n\n\n\n\n\nUse plotly() color mapping\n\nplot_ly(data = exam_data, \n        x = ~ENGLISH, \n        y = ~MATHS, \n        color = ~RACE) #<<\n\n\n\n\n\nChange color pallete\n\nplot_ly(data = exam_data, \n        x = ~ENGLISH, \n        y = ~MATHS, \n        color = ~RACE, \n        colors = \"Set1\") #<<"
  },
  {
    "objectID": "In-Class_Ex/In-Class_Ex04.html",
    "href": "In-Class_Ex/In-Class_Ex04.html",
    "title": "In-Class_Ex04",
    "section": "",
    "text": "Getting Started\nLoad the packages\n\npacman::p_load(ggiraph,tidyverse, plotly, DT, ggplotly, patchwork,ggstatsplot, ggside)\n\nData\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\nshow_col_types = FALSE\n\n\nplot_ly(data = exam_data, \n             x = ~MATHS, \n             y = ~ENGLISH,\n             color = ~RACE, \n             colors = \"Set1\")\n\n\n\n\n\nInteractive scatter plot\n\np <- ggplot(data=exam_data, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(dotsize = 1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nggplotly(p) #<<\n\n\n\n\n\nCombine multiple plots with subplot()\n\np1 <- ggplot(data=exam_data, \n              aes(x = MATHS,\n                  y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\np2 <- ggplot(data=exam_data, \n            aes(x = MATHS,\n                y = SCIENCE)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nsubplot(ggplotly(p1),            #<<\n        ggplotly(p2))            #<<\n\n\n\n\n\n\n\nVisual Statistics Analysis with ggstatsplot\nOne Sample test with gghistostats()\n\nset.seed(1234)\n\ngghistostats(\n  data = exam_data,\n  x = ENGLISH,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"English scores\"\n)\n\n\n\n\nTwo sample mean test using ggbetweenstats()\n\nggbetweenstats(\n  data = exam_data,\n  x = GENDER, \n  y = MATHS,\n  type = \"np\",\n  messages = FALSE\n)\n\n\n\n\nSignificant Test of Correlation\n\nggscatterstats(\n  data = exam_data,\n  x = MATHS,\n  y = ENGLISH,\n  marginal = TRUE,\n  )\n\n\n\n\n\n\nVisualising Models\nLoad additional packages\n\npacman::p_load(readxl, performance, parameters, see)\n\nRead the data file this time using read_xls(_)\nRead the data tab/ worksheet in the Excel file.\n\ncar_resale <- read_xls(\"data/ToyotaCorolla.xls\", \n                       \"data\")\ncar_resale\n\n# A tibble: 1,436 × 38\n      Id Model       Price Age_0…¹ Mfg_M…² Mfg_Y…³     KM Quart…⁴ Weight Guara…⁵\n   <dbl> <chr>       <dbl>   <dbl>   <dbl>   <dbl>  <dbl>   <dbl>  <dbl>   <dbl>\n 1    81 TOYOTA Cor… 18950      25       8    2002  20019     100   1180       3\n 2     1 TOYOTA Cor… 13500      23      10    2002  46986     210   1165       3\n 3     2 TOYOTA Cor… 13750      23      10    2002  72937     210   1165       3\n 4     3  TOYOTA Co… 13950      24       9    2002  41711     210   1165       3\n 5     4 TOYOTA Cor… 14950      26       7    2002  48000     210   1165       3\n 6     5 TOYOTA Cor… 13750      30       3    2002  38500     210   1170       3\n 7     6 TOYOTA Cor… 12950      32       1    2002  61000     210   1170       3\n 8     7  TOYOTA Co… 16900      27       6    2002  94612     210   1245       3\n 9     8 TOYOTA Cor… 18600      30       3    2002  75889     210   1245       3\n10    44 TOYOTA Cor… 16950      27       6    2002 110404     234   1255       3\n# … with 1,426 more rows, 28 more variables: HP_Bin <chr>, CC_bin <chr>,\n#   Doors <dbl>, Gears <dbl>, Cylinders <dbl>, Fuel_Type <chr>, Color <chr>,\n#   Met_Color <dbl>, Automatic <dbl>, Mfr_Guarantee <dbl>,\n#   BOVAG_Guarantee <dbl>, ABS <dbl>, Airbag_1 <dbl>, Airbag_2 <dbl>,\n#   Airco <dbl>, Automatic_airco <dbl>, Boardcomputer <dbl>, CD_Player <dbl>,\n#   Central_Lock <dbl>, Powered_Windows <dbl>, Power_Steering <dbl>,\n#   Radio <dbl>, Mistlamps <dbl>, Sport_Model <dbl>, Backseat_Divider <dbl>, …\n# ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names\n\n\nBuild a multiple linear regression model using lm() of Base Stats of R\n\nmodel <- lm(Price ~ Age_08_04 + Mfg_Year + KM + \n              Weight + Guarantee_Period, data = car_resale)\nmodel\n\n\nCall:\nlm(formula = Price ~ Age_08_04 + Mfg_Year + KM + Weight + Guarantee_Period, \n    data = car_resale)\n\nCoefficients:\n     (Intercept)         Age_08_04          Mfg_Year                KM  \n      -2.637e+06        -1.409e+01         1.315e+03        -2.323e-02  \n          Weight  Guarantee_Period  \n       1.903e+01         2.770e+01  \n\n\nDiagnostic Test of Model\n\ncheck_collinearity(model)\n\n# Check for Multicollinearity\n\nLow Correlation\n\n             Term   VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n Guarantee_Period  1.04   [1.01, 1.17]         1.02      0.97     [0.86, 0.99]\n        Age_08_04 31.07 [28.08, 34.38]         5.57      0.03     [0.03, 0.04]\n         Mfg_Year 31.16 [28.16, 34.48]         5.58      0.03     [0.03, 0.04]\n\nHigh Correlation\n\n   Term  VIF   VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n     KM 1.46 [1.37, 1.57]         1.21      0.68     [0.64, 0.73]\n Weight 1.41 [1.32, 1.51]         1.19      0.71     [0.66, 0.76]\n\n\nVisualise the multicollinearity report\n(<5 no multi-collinearity; >=10: high multi-collinearity)\n\ncheck_c <- check_collinearity(model)\nplot(check_c)\n\n\n\n\nCheck normality assumption using check_normality() from performance package\n\nmodel1 <- lm(Price ~ Age_08_04 + KM + \n              Weight + Guarantee_Period, data = car_resale)\ncheck_n <- check_normality(model1)\nplot(check_n)\n\n\n\n\nCheck model for homogeneity of variances\n\ncheck_h <- check_heteroscedasticity(model1)\nplot(check_h)\n\n\n\n\nComplete check model diagnostic\n\ncheck_model(model1)\n\n\n\n\nVisualising regression parameters\n\nplot(parameters(model1))\n\n\n\n\nUsing ggcoefstats() from ggstatsplot package\n\nggcoefstats(model1, \n            output = \"plot\")\n\n\n\n\n\n\nVisualizing the uncertainty\n\npacman::p_load(tidyverse, plotly, crosstalk, DT, ggdist, gganimate)\nexam <- read_csv(\"data/Exam_data.csv\")\n\nUsing ggplot2 to save the output as a tibble data\n\nmy_sum <- exam %>%\n  group_by(RACE) %>%\n  summarise(\n    n=n(),\n    mean=mean(MATHS),\n    sd=sd(MATHS)\n    ) %>%\n  mutate(se=sd/sqrt(n-1))\n\n\nknitr::kable(head(my_sum), format = 'html')\n\n\n\n \n  \n    RACE \n    n \n    mean \n    sd \n    se \n  \n \n\n  \n    Chinese \n    193 \n    76.50777 \n    15.69040 \n    1.132357 \n  \n  \n    Indian \n    12 \n    60.66667 \n    23.35237 \n    7.041005 \n  \n  \n    Malay \n    108 \n    57.44444 \n    21.13478 \n    2.043177 \n  \n  \n    Others \n    9 \n    69.66667 \n    10.72381 \n    3.791438 \n  \n\n\n\n\n\nThen visualise standard error of mean maths score by race\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=RACE, \n        ymin=mean-se, \n        ymax=mean+se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    size=0.5) +\n  geom_point(aes\n           (x=RACE, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  ggtitle(\"Standard error of mean \n          maths score by rac\")"
  }
]