<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="YIN HANG">
<meta name="dcterms.date" content="2023-01-29">

<title>ISSS608-VAA - Take Home Exercise 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-Class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In-Class_Ex/In-Class_Ex03.html">
 <span class="dropdown-text">In-Class Exercise 3</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take Home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/takehome_1.html">
 <span class="dropdown-text">Take Home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">
 <span class="dropdown-text">Take Home Exercise 2</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#r-preparation" id="toc-r-preparation" class="nav-link active" data-scroll-target="#r-preparation">1. R Preparation</a>
  <ul class="collapse">
  <li><a href="#install-and-launching-r-packages" id="toc-install-and-launching-r-packages" class="nav-link" data-scroll-target="#install-and-launching-r-packages">Install and launching R packages</a></li>
  <li><a href="#importing-the-data" id="toc-importing-the-data" class="nav-link" data-scroll-target="#importing-the-data">Importing the data</a></li>
  </ul></li>
  <li><a href="#critique" id="toc-critique" class="nav-link" data-scroll-target="#critique">2. Critique</a>
  <ul class="collapse">
  <li><a href="#clarity" id="toc-clarity" class="nav-link" data-scroll-target="#clarity">2.1 Clarity</a>
  <ul class="collapse">
  <li><a href="#a-dashboard-title" id="toc-a-dashboard-title" class="nav-link" data-scroll-target="#a-dashboard-title">a) Dashboard Title</a></li>
  <li><a href="#b-graph-title" id="toc-b-graph-title" class="nav-link" data-scroll-target="#b-graph-title">b) Graph Title</a></li>
  <li><a href="#c-data-label" id="toc-c-data-label" class="nav-link" data-scroll-target="#c-data-label">c) Data Label</a></li>
  </ul></li>
  <li><a href="#aesthetics" id="toc-aesthetics" class="nav-link" data-scroll-target="#aesthetics">2.2 Aesthetics</a>
  <ul class="collapse">
  <li><a href="#a-color-intensity-tone" id="toc-a-color-intensity-tone" class="nav-link" data-scroll-target="#a-color-intensity-tone">a) Color Intensity Tone</a></li>
  <li><a href="#b-axes-label" id="toc-b-axes-label" class="nav-link" data-scroll-target="#b-axes-label">b) Axes Label</a></li>
  <li><a href="#c-title" id="toc-c-title" class="nav-link" data-scroll-target="#c-title">c) Title</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#proposed-chart" id="toc-proposed-chart" class="nav-link" data-scroll-target="#proposed-chart">3. Proposed Chart</a>
  <ul class="collapse">
  <li><a href="#sketch-of-proposed-design" id="toc-sketch-of-proposed-design" class="nav-link" data-scroll-target="#sketch-of-proposed-design">3.1 Sketch of Proposed Design</a></li>
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling">3.2 Data Wrangling</a></li>
  <li><a href="#final-design" id="toc-final-design" class="nav-link" data-scroll-target="#final-design">3.3 Final Design</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">4. Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take Home Exercise 2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>YIN HANG </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 29, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>In this take-home exercise, we will look at one of classmates population pyramid chart and evaluate it in terms of clarity and aesthetics. We will also re-make the original chart design by using ggplot2, ggplot2 extensions and tidyverse packages.</p>
<section id="r-preparation" class="level1">
<h1>1. R Preparation</h1>
<section id="install-and-launching-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="install-and-launching-r-packages">Install and launching R packages</h2>
<p>The code chunk below uses p_load() of pacman package to check if tidyverse packages are installed. If they are, they will be launched into R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, patchwork, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               ggthemes, hrbrthemes,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               ggrepel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-the-data" class="level2">
<h2 class="anchored" data-anchor-id="importing-the-data">Importing the data</h2>
<p>The code chunk below uses read_csv function to import the dataset: <u><em>Singapore Residents by Planning Area / Subzone, Age Group, Sex and Type of Dwelling, June 2022</em></u><em>,</em> into R and name it ppltn_data for future reference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ppltn_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/respopagesextod2022.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 100928 Columns: 7
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): PA, SZ, AG, Sex, TOD
dbl (2): Pop, Time

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</section>
</section>
<section id="critique" class="level1">
<h1>2. Critique</h1>
<p>The original design is shown as below:</p>
<p><img src="images/Singapore Population Pyramid by Planning Area, June 2022.png" class="img-fluid"></p>
<p>This is a population pyramid trellis chart whereby demographic patterns of 9 selected planning areas in Singapore is well organised into a 3*3 sub-chart format that share the same scale and axis for easy comparison. Male and female population are shown in different color tones, and the age groups are also arranged in descending order for easy visualization</p>
<p>The selected graph includes proper axes and labels; grid lines are included for easy data visualization; A caption in the bottom right corner suggests the source reference; Each planning area is properly labelled in bold in each sub-chart.</p>
<p>However, this chart can be further improved in terms of clarity and aesthetics. The below is the improvement suggestions.</p>
<section id="clarity" class="level2">
<h2 class="anchored" data-anchor-id="clarity">2.1 Clarity</h2>
<section id="a-dashboard-title" class="level3">
<h3 class="anchored" data-anchor-id="a-dashboard-title">a) Dashboard Title</h3>
<p>For easy understanding of the graph, title should serve as a clear summary of the graph. The current dashboard title –“Different demographic patterns are revealed when Singapore population pyramids are grouped by planning areas”, is more like a factual description rather than a summary of the graph presented.</p>
</section>
<section id="b-graph-title" class="level3">
<h3 class="anchored" data-anchor-id="b-graph-title">b) Graph Title</h3>
<p>As graph title is under the dashboard title, it is unclear to audience in terms of which one to pay attention to. We can combine the dashboard and graph title as there is only one trellis chart in the dashboard.</p>
</section>
<section id="c-data-label" class="level3">
<h3 class="anchored" data-anchor-id="c-data-label">c) Data Label</h3>
<p>In the original chart, only 2 or 3 sets of data are labelled in each population pyramid graph. It is unclear to audience why these sets of data are labelled or emphasized. We can label only the minimum and maximum set for more distinct comparison, or using interactive method to eliminate the label but allow audience to be able to read the details when the cursor is hovering above the interested bar.</p>
</section>
</section>
<section id="aesthetics" class="level2">
<h2 class="anchored" data-anchor-id="aesthetics">2.2 Aesthetics</h2>
<section id="a-color-intensity-tone" class="level3">
<h3 class="anchored" data-anchor-id="a-color-intensity-tone">a) Color Intensity Tone</h3>
<p>As population pyramid has shown the population absolute number in terms of vertical bar length, color intensity is not necessary to show population. Hence we can remove the color intensity to make the graph look cleaner.</p>
</section>
<section id="b-axes-label" class="level3">
<h3 class="anchored" data-anchor-id="b-axes-label">b) Axes Label</h3>
<p>The Y axis label –age group, has been split into 19 categories in total (0 to 4 till 90 and over). It is visually too dense to see clearly. We can further combine the age group into range of 10 years to reduce the number of age groups and make the graph look cleaner.</p>
</section>
<section id="c-title" class="level3">
<h3 class="anchored" data-anchor-id="c-title">c) Title</h3>
<p>It is more visually pleasant to make graph title center aligned instead of left aligned.</p>
</section>
</section>
</section>
<section id="proposed-chart" class="level1">
<h1>3. Proposed Chart</h1>
<section id="sketch-of-proposed-design" class="level2">
<h2 class="anchored" data-anchor-id="sketch-of-proposed-design">3.1 Sketch of Proposed Design</h2>
</section>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling">3.2 Data Wrangling</h2>
<p>Firstly we use filter() function to select the planning areas that the original chart has used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>filtered_PA <span class="ot">&lt;-</span> ppltn_data <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">PA</span><span class="st">`</span> <span class="sc">==</span><span class="st">"Ang Mo Kio"</span> <span class="sc">|</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">PA</span><span class="st">`</span> <span class="sc">==</span><span class="st">"Bedok"</span> <span class="sc">|</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">PA</span><span class="st">`</span><span class="sc">==</span> <span class="st">"Choa Chu Kang"</span> <span class="sc">|</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">PA</span><span class="st">`</span><span class="sc">==</span> <span class="st">"Jurong West"</span> <span class="sc">|</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">PA</span><span class="st">`</span><span class="sc">==</span> <span class="st">"Pasir Ris"</span> <span class="sc">|</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">PA</span><span class="st">`</span><span class="sc">==</span> <span class="st">"Punggol"</span> <span class="sc">|</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">PA</span><span class="st">`</span><span class="sc">==</span> <span class="st">"Sembawang"</span> <span class="sc">|</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">PA</span><span class="st">`</span><span class="sc">==</span> <span class="st">"Tampines"</span> <span class="sc">|</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>           <span class="st">`</span><span class="at">PA</span><span class="st">`</span><span class="sc">==</span> <span class="st">"Toa Payoh"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we will compute Singapore population by planning areas, gender and age using <strong>group_by()</strong> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>population <span class="ot">&lt;-</span> filtered_PA <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(AG, PA,Sex) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">'Count'</span><span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Pop</span><span class="st">`</span>), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Secondly, we sort the data based on age group and in ascending order by using <strong>mutate()</strong> and <strong>arrange()</strong> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"0_to_4"</span>, <span class="st">"5_to_9"</span>, <span class="st">"10_to_14"</span>, <span class="st">"15_to_19"</span>, <span class="st">"20_to_24"</span>, <span class="st">"25_to_29"</span>, <span class="st">"30_to_34"</span>, <span class="st">"35_to_39"</span>, <span class="st">"40_to_44"</span>, <span class="st">"45_to_49"</span>, <span class="st">"50_to_54"</span>, <span class="st">"55_to_59"</span>, <span class="st">"60_to_64"</span>, <span class="st">"65_to_69"</span>, <span class="st">"70_to_74"</span>, <span class="st">"75_to_79"</span>, <span class="st">"80_to_84"</span>, <span class="st">"85_to_89"</span>, <span class="st">"90_and_over"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>sorted_population <span class="ot">&lt;-</span> population <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AG =</span>  <span class="fu">factor</span>(AG, <span class="at">levels =</span> order)) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(AG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For better visibility, we will further group the age group.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>combined_AG <span class="ot">&lt;-</span> sorted_population <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AgeGroup =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"0_to_4"</span>, <span class="st">"5_to_9"</span>) <span class="sc">~</span> <span class="st">"0 to 9"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"10_to_14"</span>, <span class="st">"15_to_19"</span>) <span class="sc">~</span> <span class="st">"10 to 19"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"20_to_24"</span>, <span class="st">"25_to_29"</span>) <span class="sc">~</span> <span class="st">"20 to 29"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"30_to_34"</span>, <span class="st">"35_to_39"</span>) <span class="sc">~</span> <span class="st">"30 to 39"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"40_to_44"</span>, <span class="st">"45_to_49"</span>) <span class="sc">~</span> <span class="st">"40 to 49"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"50_to_54"</span>, <span class="st">"55_to_59"</span>) <span class="sc">~</span> <span class="st">"50 to 59"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"60_to_64"</span>, <span class="st">"65_to_69"</span>) <span class="sc">~</span> <span class="st">"60 to 69"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"70_to_74"</span>, <span class="st">"75_to_79"</span>) <span class="sc">~</span> <span class="st">"70 to 79"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"80_to_84"</span>, <span class="st">"85_to_89"</span>) <span class="sc">~</span> <span class="st">"80 to 89"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                                     AG <span class="sc">==</span> <span class="st">"90_and_over"</span> <span class="sc">~</span> <span class="st">"90 and over"</span>),</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">AgeGroup =</span> <span class="fu">factor</span>(AgeGroup,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                           <span class="at">level =</span> <span class="fu">c</span>(<span class="st">"0 to 9"</span>,<span class="st">"10 to 19"</span>,<span class="st">"20 to 29"</span>,<span class="st">"30 to 39"</span>,<span class="st">"40 to 49"</span>,<span class="st">"50 to 59"</span>,<span class="st">"60 to 69"</span>,<span class="st">"70 to 79"</span>,<span class="st">"80 to 89"</span>, <span class="st">"90 and over"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="final-design" class="level2">
<h2 class="anchored" data-anchor-id="final-design">3.3 Final Design</h2>
<p>Firstly, we are going to plot a trellis chart of population pyramid using <strong>ggplot()</strong> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>static_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(combined_AG, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(Sex <span class="sc">==</span> <span class="st">"Males"</span>, <span class="at">yes =</span> <span class="sc">-</span>Count, <span class="at">no =</span> Count), </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y =</span> AgeGroup, <span class="at">fill =</span> Sex)) <span class="sc">+</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> PA) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">150000</span>, <span class="dv">150000</span>, <span class="dv">50000</span>), </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">paste0</span>(<span class="fu">as.character</span>(<span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">150</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">50</span>), <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="dv">50</span>))))) <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">"Population"</span>, <span class="at">y =</span> <span class="st">"Age Group"</span>, <span class="at">title=</span><span class="st">'Singapore Age-Sex Population Pyramid by Planning Area 2022'</span>) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>, <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"darksalmon"</span>))</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>static_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In order to make the group easy to read and also able to zoom-in for details, we will use <strong>plotly</strong> to creative interactive plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'plotly'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    last_plot</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(static_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-9a27cb903b755a08da6c" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9a27cb903b755a08da6c">{"x":{"data":[{"orientation":"v","width":[2480,3120,3320,3620,4030,5020,5650,5120,5970,6350,5970,6260,6240,6590,5780,3700,2840,1410,940],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[1240,4040,1660,5130,2015,6540,2825,8210,2985,9145,2985,9100,3120,9535,2890,7630,1420,3545,470],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   2480<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3120<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3320<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3620<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4030<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5020<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5650<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5120<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5970<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6350<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5970<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6260<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6240<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6590<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5780<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3700<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2840<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1410<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    940<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[4970,5700,6220,6660,7310,8820,10050,9380,10330,10850,10170,10570,11070,10300,8710,5180,3750,2140,1440],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[2485,7820,3110,9550,3655,11720,5025,14740,5165,15755,5085,15455,5535,16220,4355,11300,1875,4820,720],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   4970<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5700<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6220<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6660<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7310<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   8820<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10050<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9380<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10330<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10850<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10170<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10570<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  11070<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10300<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   8710<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5180<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3750<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2140<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1440<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[4080,4510,4670,5310,6820,8250,7550,6530,6550,6760,7900,8270,6480,4780,3140,1690,1250,710,430],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[2040,6335,2335,7325,3410,10945,3775,10815,3275,9930,3950,12035,3240,8870,1570,3985,625,1605,215],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   4080<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4510<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4670<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5310<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6820<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   8250<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7550<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6530<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6550<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6760<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7900<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   8270<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6480<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4780<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3140<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1690<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1250<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    710<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    430<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[4820,5930,6980,7400,8030,9290,9450,9360,10500,9990,9560,9320,8650,7770,5520,2890,1870,900,610],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[2410,7785,3490,10680,4015,12675,4725,14130,5250,15495,4780,14220,4325,12535,2760,6965,935,2320,305],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   4820<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5930<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6980<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7400<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   8030<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9290<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9450<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9360<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10500<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9990<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9560<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9320<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   8650<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7770<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5520<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2890<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1870<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    900<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    610<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[2730,3100,3540,4000,5330,6550,5170,4570,4940,5450,6210,7260,5410,3720,2520,1420,1100,620,390],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[1365,4280,1770,5540,2665,8605,2585,7455,2470,7665,3105,9840,2705,7270,1260,3230,550,1410,195],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   2730<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3100<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3540<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4000<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5330<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6550<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5170<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4570<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4940<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5450<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6210<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7260<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5410<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3720<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2520<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1420<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1100<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    620<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    390<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[6940,7660,6070,4860,3900,4890,9370,11140,9820,7770,5370,4340,3680,3260,2660,1370,880,420,270],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[3470,10770,3035,8500,1950,6345,4685,14940,4910,13705,2685,7540,1840,5310,1330,3345,440,1090,135],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   6940<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7660<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6070<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4860<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3900<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4890<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9370<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  11140<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9820<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7770<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5370<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4340<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3680<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3260<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2660<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1370<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    880<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    420<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    270<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x3","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[3460,2940,3040,3200,3170,3900,5310,4410,4540,4720,4010,3430,2910,2190,1470,860,690,310,220],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[1730,4930,1520,4640,1585,5120,2655,7515,2270,6900,2005,5725,1455,4005,735,1900,345,845,110],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   3460<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2940<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3040<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3200<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3170<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3900<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5310<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4410<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4540<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4720<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4010<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3430<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2910<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2190<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1470<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    860<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    690<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    310<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    220<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[6300,6010,5680,5950,7580,10580,11830,9600,9090,8540,9400,10810,11310,9340,6200,3190,2420,1310,890],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[3150,9305,2840,8655,3790,12870,5915,16630,4545,13360,4700,14805,5655,15980,3100,7795,1210,3075,445],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   6300<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6010<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5680<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5950<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   7580<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10580<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  11830<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9600<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9090<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   8540<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9400<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  10810<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):  11310<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   9340<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   6200<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3190<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2420<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1310<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    890<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[2550,2560,2700,2660,2920,4230,5770,4490,4740,5000,4670,4560,4810,4500,3930,2740,2490,1300,850],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[1275,3830,1350,4030,1460,5035,2885,8015,2370,7240,2335,6950,2405,7060,1965,5300,1245,3140,425],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):   2550<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2560<br />AgeGroup: 0 to 9<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2700<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2660<br />AgeGroup: 10 to 19<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2920<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4230<br />AgeGroup: 20 to 29<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5770<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4490<br />AgeGroup: 30 to 39<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4740<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   5000<br />AgeGroup: 40 to 49<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4670<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4560<br />AgeGroup: 50 to 59<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4810<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   4500<br />AgeGroup: 60 to 69<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   3930<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2740<br />AgeGroup: 70 to 79<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   2490<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):   1300<br />AgeGroup: 80 to 89<br />Sex: Females","ifelse(Sex == \"Males\", yes = -Count, no = Count):    850<br />AgeGroup: 90 and over<br />Sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(233,150,122,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[2530,3020,3350,3780,4250,4960,5330,4550,5180,5520,5630,6040,6210,5510,4930,2970,2030,960,410],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-1265,-4040,-1675,-5240,-2125,-6730,-2665,-7605,-2590,-7940,-2815,-8650,-3105,-8965,-2465,-6415,-1015,-2510,-205],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2530<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3020<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3350<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3780<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4250<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4960<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5330<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4550<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5180<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5520<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5630<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6040<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6210<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5510<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4930<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2970<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2030<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -960<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -410<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[5090,5960,6440,6770,7860,9060,9750,8250,8860,9880,9880,10080,10580,9470,7920,4470,2740,1300,660],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-2545,-8070,-3220,-9825,-3930,-12390,-4875,-13875,-4430,-13800,-4940,-14920,-5290,-15315,-3960,-10155,-1370,-3390,-330],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5090<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5960<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6440<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6770<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7860<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9060<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9750<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8250<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8860<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9880<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9880<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count): -10080<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count): -10580<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9470<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7920<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4470<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2740<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -1300<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -660<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[4260,4690,4880,5590,7270,8700,7390,6200,5920,6250,6860,8340,7120,5200,3170,1480,800,380,150],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-2130,-6605,-2440,-7675,-3635,-11620,-3695,-10490,-2960,-9045,-3430,-11030,-3560,-9720,-1585,-3910,-400,-990,-75],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4260<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4690<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4880<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5590<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7270<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8700<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7390<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6200<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5920<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6250<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6860<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8340<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7120<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5200<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3170<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -1480<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -800<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -380<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -150<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[5010,6230,7210,7860,8640,9590,9320,8370,9610,10260,10060,9990,9110,7830,5660,2670,1470,610,200],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-2505,-8125,-3605,-11140,-4320,-13435,-4660,-13505,-4805,-14740,-5030,-15055,-4555,-13025,-2830,-6995,-735,-1775,-100],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5010<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6230<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7210<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7860<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8640<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9590<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9320<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8370<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9610<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count): -10260<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count): -10060<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9990<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9110<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7830<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5660<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2670<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -1470<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -610<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -200<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[2820,3430,3720,4340,5690,7110,5140,4020,4430,4810,5180,6800,5890,4000,2490,1180,670,330,180],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-1410,-4535,-1860,-5890,-2845,-9245,-2570,-7150,-2215,-6835,-2590,-8580,-2945,-7890,-1245,-3080,-335,-835,-90],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2820<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3430<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3720<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4340<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5690<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7110<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5140<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4020<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4430<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4810<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5180<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6800<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5890<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4000<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2490<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -1180<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -670<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -330<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -180<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[7090,8240,6700,4950,4170,4110,7330,9640,9630,8380,5890,4700,3570,2880,2190,1140,670,240,80],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-3545,-11210,-3350,-9175,-2085,-6225,-3665,-12150,-4815,-13820,-2945,-8240,-1785,-5010,-1095,-2760,-335,-790,-40],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7090<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8240<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6700<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4950<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4170<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4110<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7330<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9640<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9630<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8380<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5890<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4700<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3570<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2880<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2190<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -1140<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -670<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -240<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):    -80<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x3","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[3640,3190,3230,3220,3340,3460,5060,4250,4160,4290,3970,3770,3100,2260,1350,710,440,200,70],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-1820,-5235,-1615,-4840,-1670,-5070,-2530,-7185,-2080,-6305,-1985,-5855,-1550,-4230,-675,-1705,-220,-540,-35],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3640<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3190<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3230<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3220<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3340<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3460<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5060<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4250<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4160<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4290<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3970<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3770<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3100<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2260<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -1350<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -710<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -440<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -200<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):    -70<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[6540,6430,6210,6330,8040,10500,11690,9130,8450,8010,7910,9480,10350,9140,6140,2720,1550,740,300],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-3270,-9755,-3105,-9375,-4020,-13290,-5845,-16255,-4225,-12455,-3955,-12650,-5175,-14920,-3070,-7500,-775,-1920,-150],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6540<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6430<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6210<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6330<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8040<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count): -10500<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count): -11690<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9130<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8450<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -8010<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -7910<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9480<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count): -10350<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -9140<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -6140<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2720<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -1550<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -740<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -300<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[2740,2920,2790,2840,3050,3960,5190,4120,4060,4520,4340,4380,4490,4060,3220,2040,1580,740,370],"base":[0.55,0.55,1.55,1.55,2.55,2.55,3.55,3.55,4.55,4.55,5.55,5.55,6.55,6.55,7.55,7.55,8.55,8.55,9.55],"x":[-1370,-4200,-1395,-4210,-1525,-5030,-2595,-7250,-2030,-6320,-2170,-6530,-2245,-6520,-1610,-4240,-790,-1950,-185],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2740<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2920<br />AgeGroup: 0 to 9<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2790<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2840<br />AgeGroup: 10 to 19<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3050<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3960<br />AgeGroup: 20 to 29<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -5190<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4120<br />AgeGroup: 30 to 39<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4060<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4520<br />AgeGroup: 40 to 49<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4340<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4380<br />AgeGroup: 50 to 59<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4490<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -4060<br />AgeGroup: 60 to 69<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -3220<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -2040<br />AgeGroup: 70 to 79<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):  -1580<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -740<br />AgeGroup: 80 to 89<br />Sex: Males","ifelse(Sex == \"Males\", yes = -Count, no = Count):   -370<br />AgeGroup: 90 and over<br />Sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.4520547945205,"r":7.30593607305936,"b":37.7916147779162,"l":76.7123287671233},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Singapore Age-Sex Population Pyramid by Planning Area 2022","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.322461404653185],"automargin":true,"type":"linear","autorange":false,"range":[-22932.5,23542.5],"tickmode":"array","ticktext":["0"],"tickvals":[0],"categoryorder":"array","categoryarray":["0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"annotations":[{"text":"Population","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-19.5267745952677},{"text":"Age Group","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-61.3698630136986},{"text":"Ang Mo Kio","x":0.161230702326593,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Bedok","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Choa Chu Kang","x":0.838769297673407,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Jurong West","x":0.161230702326593,"y":0.627092846270929,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Pasir Ris","x":0.5,"y":0.627092846270929,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Punggol","x":0.838769297673407,"y":0.627092846270929,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Sembawang","x":0.161230702326593,"y":0.293759512937595,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Tampines","x":0.5,"y":0.293759512937595,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Toa Payoh","x":0.838769297673407,"y":0.293759512937595,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.706240487062405,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,10.6],"tickmode":"array","ticktext":["0 to 9","10 to 19","20 to 29","30 to 39","40 to 49","50 to 59","60 to 69","70 to 79","80 to 89","90 and over"],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["0 to 9","10 to 19","20 to 29","30 to 39","40 to 49","50 to 59","60 to 69","70 to 79","80 to 89","90 and over"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0.706240487062405,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0.706240487062405,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.677538595346814,"x1":1,"y0":0.706240487062405,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.677538595346814,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0.372907153729072,"y1":0.627092846270929},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0,"y1":23.37899543379,"yanchor":0.627092846270929,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0.372907153729072,"y1":0.627092846270929},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0,"y1":23.37899543379,"yanchor":0.627092846270929,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.677538595346814,"x1":1,"y0":0.372907153729072,"y1":0.627092846270929},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.677538595346814,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":0.627092846270929,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0,"y1":0.293759512937595},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0,"y1":23.37899543379,"yanchor":0.293759512937595,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0,"y1":0.293759512937595},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0,"y1":23.37899543379,"yanchor":0.293759512937595,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.677538595346814,"x1":1,"y0":0,"y1":0.293759512937595},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.677538595346814,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":0.293759512937595,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-22932.5,23542.5],"tickmode":"array","ticktext":["0"],"tickvals":[0],"categoryorder":"array","categoryarray":["0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.344205262013481,0.655794737986519],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[-22932.5,23542.5],"tickmode":"array","ticktext":["0"],"tickvals":[0],"categoryorder":"array","categoryarray":["0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.677538595346814,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[0.4,10.6],"tickmode":"array","ticktext":["0 to 9","10 to 19","20 to 29","30 to 39","40 to 49","50 to 59","60 to 69","70 to 79","80 to 89","90 and over"],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["0 to 9","10 to 19","20 to 29","30 to 39","40 to 49","50 to 59","60 to 69","70 to 79","80 to 89","90 and over"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.372907153729072,0.627092846270929],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.4,10.6],"tickmode":"array","ticktext":["0 to 9","10 to 19","20 to 29","30 to 39","40 to 49","50 to 59","60 to 69","70 to 79","80 to 89","90 and over"],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["0 to 9","10 to 19","20 to 29","30 to 39","40 to 49","50 to 59","60 to 69","70 to 79","80 to 89","90 and over"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.293759512937595],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Sex","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2678119b486c":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"2678119b486c","visdat":{"2678119b486c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>4. Conclusion</h1>
<p>Take Home Exercise 2 helps me to understand more about the significance of clarity and aesthetics of graphs in terms of enlighten readers in visualization. By evaluating peer’s graph and re-making it with ggplot2 packages in R, I have gained better insights in data visualization and R knowledge.</p>
<p>The above concludes my Take Home Exercise 2. Thank you for reading!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>